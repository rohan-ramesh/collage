{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-5ae7bd582a0fd19b.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-85e665629ea927d4.js","src/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7kXzU\\\":\\\"index.c3980c2f.js\\\",\\\"cPx55\\\":\\\"new.de4318e4.bin\\\"}\"));","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('7kXzU') + require('./helpers/bundle-manifest').resolve(\"cPx55\");","import binData from 'url:../res/new.bin'\n\nconst $ = x => document.querySelector(x)\nconst $$ = x => document.querySelectorAll(x)\n\nconst CORRECT_KEY = 0x54b2_134a_19ed_cfadn\n\nlet inputPlaceholderCnt = 0\nlet allInputs = []\nlet rawData\nlet resultCtx\n\nmain()\n\nasync function main() {\n\tlet res = await fetch(binData)\n\trawData = new DataView(await res.arrayBuffer())\n\n\tfor (let el of $$('.input-group')) {\n\t\tcreateInputGroup(el)\n\t}\n\n\tlet resultCanvas = $('#result')\n\tresultCanvas.width = 150\n\tresultCanvas.height = 200\n\tresultCtx = resultCanvas.getContext('2d')\n}\n\nfunction createInputGroup(el) {\n\tconst LENGTH = 4\n\n\tlet inputs = []\n\tfor (let i = 0; i < LENGTH; i++) {\n\t\tlet ip = document.createElement('input')\n\t\tip.className = 'input-field'\n\t\tip.maxLength = 1\n\t\tip.placeholder = (inputPlaceholderCnt++).toString(16).toUpperCase()\n\t\tinputs.push(ip)\n\t\tallInputs.push(ip)\n\t\tel.appendChild(ip)\n\t}\n\n\tfor (let i = 0; i < inputs.length; i++) {\n\t\tinputs[i].addEventListener('keydown', evt => {\n\t\t\tif (evt.key === 'Backspace') {\n\t\t\t\tif (inputs[i].value === '') {\n\t\t\t\t\tif (i !== 0) {\n\t\t\t\t\t\tinputs[i - 1].focus()\n\t\t\t\t\t\tinputs[i - 1].select()\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tinputs[i].value = ''\n\t\t\t\t}\n\n\t\t\t} else if (evt.key === 'ArrowLeft' && i !== 0) {\n\t\t\t\tinputs[i - 1].focus()\n\t\t\t\tinputs[i - 1].select()\n\t\t\t} else if (evt.key === 'ArrowRight' && i !== inputs.length - 1) {\n\t\t\t\tinputs[i + 1].focus()\n\t\t\t\tinputs[i + 1].select()\n\t\t\t}\n\t\t})\n\n\t\tinputs[i].addEventListener('input', () => {\n\t\t\tinputs[i].value = inputs[i].value.toUpperCase()\n\n\t\t\t// Validate input\n\t\t\tlet val = inputs[i].value.charCodeAt(0)\n\t\t\tlet cl = inputs[i].classList\n\t\t\tif ((val < 48 || val > 57) && (val < 65 || val > 70)) {\n\t\t\t\tcl.add('error')\n\t\t\t} else {\n\t\t\t\tcl.remove('error')\n\t\t\t}\n\n\t\t\trender()\n\n\t\t\tif (i === inputs.length - 1 && inputs[i].value !== '') {\n\t\t\t\treturn true\n\t\t\t} else if (inputs[i].value !== '') {\n\t\t\t\tinputs[i + 1].focus()\n\t\t\t\tinputs[i + 1].select()\n\t\t\t}\n\t\t})\n\n\t\tinputs[i].addEventListener('click', () => {\n\t\t\tinputs[i].select()\n\t\t})\n\t}\n}\n\nfunction render() {\n\tlet key = allInputs.reduce((acc, cur) => {\n\t\tlet num = parseInt(cur.value, 16)\n\t\tif (Number.isNaN(num)) {\n\t\t\tnum = 0\n\t\t}\n\t\treturn (acc << 4n) + BigInt(num)\n\t}, 0n)\n\n\tsetColor(key === CORRECT_KEY ? 'green' : 'red')\n\twriteImage(key, resultCtx)\n}\n\n// THIS IS NOT A REAL CRYPTOGRAPHIC FUNCTION!\nfunction decode(key) {\n\tlet baseKey = key\n\tconst BITMASK = BigInt(2 ** 64) - 1n\n\n\tlet newData = new DataView(new ArrayBuffer(rawData.byteLength))\n\tfor (let pos = 0; pos < newData.byteLength; pos += 8) {\n\t\tnewData.setBigUint64(pos, rawData.getBigUint64(pos) ^ key)\n\t\tkey = ((key * 63n) ^ baseKey) & BITMASK\n\t}\n\treturn newData\n}\n\nfunction writeImage(key, ctx) {\n\tlet oldArray = new Uint8Array(decode(key).buffer)\n\n\t// Add the alpha channel back\n\tlet newArray = new Uint8ClampedArray(oldArray.length * 4 / 3)\n\tfor (let pos = 0; pos < oldArray.length; pos++) {\n\t\tnewArray[pos*4]     = oldArray[pos*3]\n\t\tnewArray[pos*4 + 1] = oldArray[pos*3 + 1]\n\t\tnewArray[pos*4 + 2] = oldArray[pos*3 + 2]\n\t\tnewArray[pos*4 + 3] = 0xff\n\t}\n\t\n\tlet imageData = new ImageData(newArray, 150)\n\tctx.putImageData(imageData, 0, 0)\n}\n\nfunction setColor(color) {\n\tdocument.body.style.cssText = `--varies: var(--${color});`\n\tlet unset = $('.unset')\n\tif (unset !== null) {\n\t\tunset.classList.remove('unset')\n\t}\n}\n\n//function configureSVG\n"],"names":["$5b2b3cdd5d136d36$export$357eb1b4f03c1402","$5b2b3cdd5d136d36$export$40339995e8a21591","$5b2b3cdd5d136d36$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$f3d8ccfa2247eb90$export$da289beea9c5b10d","$f3d8ccfa2247eb90$var$bundleURL","$f3d8ccfa2247eb90$var$getBaseURL","url","replace","value","err","matches","stack","match","$f3d8ccfa2247eb90$var$getBundleURL","$598ab8b622bf3855$exports","getBundleURL","resolve","$2ff1f906cd8af8d3$var$$","x","document","querySelector","$2ff1f906cd8af8d3$var$CORRECT_KEY","$2ff1f906cd8af8d3$var$rawData","$2ff1f906cd8af8d3$var$resultCtx","$2ff1f906cd8af8d3$var$inputPlaceholderCnt","$2ff1f906cd8af8d3$var$allInputs","$2ff1f906cd8af8d3$var$createInputGroup","el","inputs","ip","createElement","className","maxLength","placeholder","toString","toUpperCase","push","appendChild","i1","addEventListener","evt","key","focus","select","val","charCodeAt","cl","classList","add","remove","$2ff1f906cd8af8d3$var$render","reduce","acc","cur","num","parseInt","Number","isNaN","BigInt","color","body","style","cssText","unset","$2ff1f906cd8af8d3$var$setColor","ctx","oldArray","Uint8Array","baseKey","BITMASK","newData","DataView","ArrayBuffer","byteLength","pos","setBigUint64","getBigUint64","$2ff1f906cd8af8d3$var$decode","buffer","newArray","Uint8ClampedArray","imageData","ImageData","putImageData","$2ff1f906cd8af8d3$var$writeImage","res","fetch","$parcel$interopDefault","arrayBuffer","querySelectorAll","resultCanvas","width","height","getContext","$2ff1f906cd8af8d3$var$main"],"version":3,"file":"index.c3980c2f.js.map"}